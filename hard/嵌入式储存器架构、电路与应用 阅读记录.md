# 嵌入式储存器架构、电路与应用 阅读记录

## 静态随机储存器 SRAM

* 电路功耗由动态功耗和静态功耗组成，其中动态功耗与电源电压的平方成正比，静态功耗主要由亚阈值电流功耗，栅漏电流功耗，PN结功耗及竞争电流功耗组成。**降低电源电压**是降低电路功耗最直接最有效的办法-动态功耗。

  $P_{dynamic} = \alpha V_{DD}^2f $

  $P_{static} = I_{static-sum}V_{DD}$

* 降低电压虽然降低功耗，也会带来芯片面积和性能上的损失。所以低电压芯片主要应用于以下两种芯片 工作频率较低的芯片频率在10~100MHz左右的芯片；应用动态电压频率调整技术的芯片，在低速和非工作状态降低电压，减少能耗。

* **SRAM架构** 储存阵列是SRAM的核心，由各个储存单元组成。储存单元是6T储存单元，每一行共享一条字线，每一列共享一条位线。

* **6T储存单元** 基本储存核心是一对完全对称、首尾相连、交叉耦合的反相器。两个反相器交叉耦合构成一个正反馈环，正常情况下，两个储存节点Q和QB储存的数据是相反的。还有两个完全对称的传输NMOS管用于数据的写入和读出，一般情况下字线处于低电平，位线处于高电平。与DRAM相比，SRAM一上电就可以储存数据，不需要周期性的刷新来保存数据。

* **读失败** 在读操作过程中，节点VR若为0，则与高电平位线/BL之间存在一个大的电压差，使得VR在读操作过程中会抬升一部分电压，如果VR抬升的电压值超过反相器的阈值电压，节点储存的数据就会反转，造成读失败。而抬升的电压值主要由下拉管PD和传输管PG的驱动能力决定。下拉管与传输管的驱动能力比被称为读约束，记为β，一般为2~3 。β有更具体的计算公式。

* **写操作** 数据能否写入是由传输管PG与上拉管PU之间的驱动能力比决定的，若传输管的能力不足，则储存的数据无法发生改变。

  > NMOS弱传1，强传0。 PMOS与之相反。
  
* **灵敏放大器** 具体架构没搞明白，用于将位线的电流进行放大输出。但随着工艺尺寸的缩小，制造带来的工艺偏差越来越大，器件之间的参数失配加剧，放大电路本身会产生失调电压，位线的电压差因此会出现较大偏差。我们还需要控制灵敏放大器的正确开启时间以控制功耗。时间跟踪技术可以通过延时链或者复制位线的方式去跟踪位线的放电时间。

### SRAM 指标

* 稳定性 静态噪声容限SNM 衡量储存单元的稳定性，定义为使储存数据发生反转的最小直流噪声电压。可以通过电压传输曲线法分析储存单元的噪声容限。
* 最小工作电压。尺寸越来越小，工作电压却无法下降0.5~0.7。
* 读破坏。 其中“半选择破坏”出现在列选结构的SRAM中，有些被“半选择”的储存单元会面临双位线均处于高电平的情况，可能在单元之间发生“读破坏”。
* 读电流波动。位线的放电时间决定了SRAM数据读取的速度，位线的放电时间取决于位线电容、读电流和位线电压差三个因素。工艺尺寸缩小，位线电容越来越小，但读电流也随之减小。当其他未读的单元的漏电流与读电流相匹配，会导致放电操作错误，产生错误的输出数据。可以牺牲面积减少单位线挂载单元数目。
* NBTI和PBTI效应。一些MOS管特有的物理和化学效应。随着尺寸的减小影响MOS管的参数。